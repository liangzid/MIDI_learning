C51 COMPILER V9.01   CHAR                                                                  01/08/2019 21:00:41 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE CHAR
OBJECT MODULE PLACED IN .\obj\char.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE user\char.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\ob
                    -j\char.lst) OBJECT(.\obj\char.obj)

line level    source

   1          #include"STC12C5A60S2.H" //芯片头文件
   2          typedef unsigned char uchar;
   3          typedef unsigned int  uint; 
   4          #define MAX_CHAR    14 //开机依次要显示几个字母
   5          
   6          extern unsigned char xdata display[8][8];
   7          extern unsigned char xdata display2[8][8];
   8          extern unsigned char xdata uart_buffer[65];
   9          extern void delay(unsigned int i);
  10          extern void clear(char le);
  11          void con(void);
  12          code char ch[MAX_CHAR][64] ={
  13          /*取模的后的第一个字母*/
  14          
  15          
  16          {0x00, 0xFF,0x00,0x7E, 0x81,0x81,0x81,0x7E,
  17          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  18          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  19          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  20          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  21          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  22          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  23          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, },//10
  24          
  25          {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  26          0x00, 0x79, 0x89, 0x89, 0x89, 0x89, 0x7E, 0x00, 
  27          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  28          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  29          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  30          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  31          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  32          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,},//9 
  33          
  34          {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  35          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  36          0x00, 0x36, 0x49, 0x49, 0x49, 0x49, 0x36, 0x00, 
  37          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  38          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  39          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  40          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  41          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,},//8
  42          
  43          {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  44          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  45          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  46          0x00, 0x80, 0x80, 0x80, 0x80, 0x80, 0xFF, 0x00, 
  47          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  48          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  49          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  50          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, },//7
  51          
  52          
  53          {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  54          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
C51 COMPILER V9.01   CHAR                                                                  01/08/2019 21:00:41 PAGE 2   

  55          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  56          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  57          0x00, 0x0E, 0x11, 0x31, 0x51, 0x91, 0x0E, 0x00,                         
  58          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  59          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  60          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, },//6
  61          
  62          {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  63          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  64          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  65          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  66          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  67          0x00, 0x00, 0xF9, 0x89, 0x89, 0x89, 0x8F, 0x00,                         
  68          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  69          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, },//5
  70          
  71          {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  72          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  73          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  74          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  75          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  76          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  77          0x00, 0xF8, 0x08, 0x08, 0x08, 0xFF, 0x08, 0x00,                              
  78          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, },//4
  79          
  80          {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  81          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  82          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  83          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  84          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  85          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  86          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  87          0x00, 0x89, 0x89, 0x89, 0x89, 0x89, 0xFF, 0x00,  },//3            
  88          
  89          
  90          {0x00, 0x9F, 0x91, 0x91, 0x91, 0x91, 0xF1, 0x00,                         
  91          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  92          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  93          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  94          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  95          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  96          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  97          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, },//2
  98          
  99          {0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 100          0x00, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x00,                              
 101          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 102          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 103          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 104          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 105          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 106          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, },//1
 107          
 108          {0x00, 0xFF, 0x00, 0x0E, 0x11, 0x21, 0x51, 0x8E, //16
 109          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 110          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 111          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 112          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 113          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 114          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 115          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 116          },
C51 COMPILER V9.01   CHAR                                                                  01/08/2019 21:00:41 PAGE 3   

 117          /*取模的后的第二个字母*/
 118          {
 119          0x3E, 0x41, 0x41, 0x3E, 0x30, 0x49, 0x49, 0x3E, //09
 120          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 121          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 122          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 123          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 124          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 125          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 126          0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 127          },
 128          //取模的后的第三个字母
 129          //{
 130          //0x27, 0x45, 0x49, 0x31, 0x3E, 0x41, 0x41, 0x3E, //20
 131          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 132          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 133          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 134          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 135          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 136          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 137          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 138          //},
 139          //取模的后的第四个字母
 140          //{        
 141          //0x00, 0xFF, 0x00, 0x00, 0x71, 0x89, 0x89, 0x7E, //19
 142          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 143          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 144          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 145          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 146          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 147          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 148          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 149          //},
 150          /*取模的后的第五个字母*/
 151          //{
 152          //0x01, 0x00, 0x7F, 0x01, 0x00, 0x79, 0x49, 0x7F, //.1.9
 153          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 154          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 155          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 156          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 157          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 158          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 159          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 160          //},
 161          //{
 162          //0x18, 0x18, 0x24, 0xA2, 0xE2, 0xAA, 0x22, 0x1C, //jingyu
 163          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 164          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 165          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 166          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 167          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 168          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 169          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 170          //},
 171          //{
 172          //0x38, 0x7C, 0x66, 0x33, 0x66, 0x7C, 0x38, 0x00, //xin
 173          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 174          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 175          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 176          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 177          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 178          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
C51 COMPILER V9.01   CHAR                                                                  01/08/2019 21:00:41 PAGE 4   

 179          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 180          //},
 181          //{
 182          //0x67, 0x8E, 0x6E, 0x87, 0x87, 0x67, 0x8E, 0x6E, //3SHAN
 183          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 184          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 185          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 186          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 187          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 188          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 189          //0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
 190          //},
 191          };
 192          
 193          void flash_diy(void)
 194          {
 195   1          unsigned char i;
 196   1          unsigned char j;
 197   1      
 198   1          for(j=0;j<MAX_CHAR;j++)
 199   1          {
 200   2              /*三个字母之间的时间间隔可以适当调整延时delay的参数最大值是 65535*/
 201   2              delay(10000);
 202   2              delay(10000);
 203   2              delay(10000);
 204   2                      delay(10000);
 205   2              for(i=0;i<64;i++)
 206   2              {
 207   3                  uart_buffer[i+1] = ch[j][i];
 208   3              }
 209   2              con();//转换数据并更新换缓冲区 
 210   2          }
 211   1      }
 212          
 213          
 214          void con(void)
 215          {
 216   1          unsigned char i;
 217   1          unsigned char j;
 218   1      
 219   1          /*清空数据*/
 220   1          for(i=0;i<8;i++)
 221   1          {                
 222   2              for(j=0;j<8;j++)
 223   2              {
 224   3                  display2[i][j] = 0;
 225   3              }                               
 226   2          }
 227   1      
 228   1      
 229   1          /*PC数据转换*/
 230   1          for(j=0;j<8;j++)
 231   1          {                
 232   2              for(i=0;i<8;i++)
 233   2              {
 234   3                 display2[j][0] |= ((uart_buffer[0+i+1]>>j)  & 0x01)<<(7-i);
 235   3                 display2[j][1] |= ((uart_buffer[8+i+1]>>j)  & 0x01)<<(7-i);
 236   3                 display2[j][2] |= ((uart_buffer[16+i+1]>>j) & 0x01)<<(7-i);
 237   3                 display2[j][3] |= ((uart_buffer[24+i+1]>>j) & 0x01)<<(7-i);
 238   3                 display2[j][4] |= ((uart_buffer[32+i+1]>>j) & 0x01)<<(7-i);
 239   3                 display2[j][5] |= ((uart_buffer[40+i+1]>>j) & 0x01)<<(7-i);
 240   3                 display2[j][6] |= ((uart_buffer[48+i+1]>>j) & 0x01)<<(7-i);
C51 COMPILER V9.01   CHAR                                                                  01/08/2019 21:00:41 PAGE 5   

 241   3                 display2[j][7] |= ((uart_buffer[56+i+1]>>j) & 0x01)<<(7-i);                      
 242   3              }                               
 243   2          }
 244   1          clear(0);
 245   1          TR0 = 0;
 246   1          /*清空缓冲区*/
 247   1          for(i=0;i<8;i++)
 248   1          {                
 249   2              for(j=0;j<8;j++)
 250   2              {
 251   3                  display[7-i][j] = display2[i][j];
 252   3              }                               
 253   2          }                     
 254   1          TR0 = 1;        
 255   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    829    ----
   CONSTANT SIZE    =    896    ----
   XDATA SIZE       =   ----       2
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
